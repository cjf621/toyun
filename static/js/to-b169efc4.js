import{d as i,r as p,y as T,x as y,a as o,o as W,c as k,w as n,g as e,X as V}from"./to-6daecd4d.js";import{L as j}from"./to-f25a0731.js";import{u as B}from"./to-e317cdfd.js";const L=i({name:"undefined"}),O=i({...L,setup(q,{expose:u}){const{service:d}=B(),a=p(!1),c=p(""),_=T({autoHeight:!1,columns:[{label:"#",type:"index"},{label:"请求",prop:"request",minWidth:150,component:{name:"cl-code-json",props:{popover:!0}}},{label:"耗时",prop:"time",minWidth:100,formatter(l){return l.time+"ms"}},{label:"结果",prop:"result",minWidth:150,component:{name:"cl-code-json",props:{popover:!0}}},{label:"类型",prop:"type",minWidth:100,dict:j},{label:"异常信息",prop:"error",minWidth:150,showOverflowTooltip:!0},{label:"执行时间",prop:"createTime",minWidth:160,sortable:"desc"}]}),s=y({service:d.cloud.func.log});function m(l){a.value=!0,c.value=`日志列表（${l.name}）`,V(()=>{var t;(t=s.value)==null||t.refresh({page:1,infoId:l.id})})}function f(){a.value=!1}return u({open:m,close:f}),(l,t)=>{const b=o("cl-refresh-btn"),r=o("cl-row"),v=o("cl-table"),h=o("cl-flex1"),g=o("cl-pagination"),x=o("cl-crud"),w=o("cl-dialog");return W(),k(w,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=C=>a.value=C),title:c.value,width:"1200px"},{default:n(()=>[e(x,{ref_key:"Crud",ref:s,padding:"0"},{default:n(()=>[e(r,null,{default:n(()=>[e(b)]),_:1}),e(r,null,{default:n(()=>[e(v,{ref_key:"Table",ref:_},null,512)]),_:1}),e(r,null,{default:n(()=>[e(h),e(g)]),_:1})]),_:1},512)]),_:1},8,["modelValue","title"])}}});export{O as _};
