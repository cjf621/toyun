import{d as u,r as n,n as h,i as f,a as v,o as k,b as y,g as V,M as b,E as g}from"./to-912ff8a5.js";import{u as x}from"./to-ef6330f4.js";import{_ as C}from"./to-c27b6911.js";const B={class:"cl-dept-select"},w=u({name:"cl-dept-select"}),E=u({...w,props:{modelValue:[Array,Number,String],multiple:Boolean,checkStrictly:{type:Boolean,default:!0}},emits:["update:modelValue","change"],setup(t,{emit:s}){const a=t,{service:d}=x(),o=n(),c=n();function r(e){a.multiple||s("update:modelValue",e)}function i(e,{checkedKeys:l}){a.multiple&&s("update:modelValue",l)}function m(){d.base.sys.department.list().then(e=>{c.value=b(e)}).catch(e=>{c.value=[],g.error(e.message)})}return h(()=>a.modelValue,e=>{o.value=e},{immediate:!0}),f(()=>{m()}),(e,l)=>{const p=v("el-tree-select");return k(),y("div",B,[V(p,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=_=>o.value=_),"node-key":"id",data:c.value,props:{label:"name",value:"id",children:"children"},multiple:t.multiple,"check-strictly":t.checkStrictly,"show-checkbox":t.multiple,"default-expand-all":"",onChange:r,onCheck:i},null,8,["modelValue","data","multiple","check-strictly","show-checkbox"])])}}});const A=C(E,[["__scopeId","data-v-7c0bc639"]]);export{A as default};
