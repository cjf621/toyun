import{d as m,x as C,L as T,y as V,a as t,o as L,c as U,w as l,g as e,e as W}from"./to-bc85d7a1.js";import{s as B}from"./to-d274ee85.js";import{u as I}from"./to-be912673.js";const q=W("span",{style:{marginLeft:"10px",fontSize:"12px"}},"是否关联上下级",-1),N=m({name:"sys-role"}),P=m({...N,setup(O){const{service:_}=I(),u=C({service:_.base.sys.role},n=>{n.refresh()}),c=T({dialog:{width:"800px"},items:[{prop:"name",label:"名称",span:12,required:!0,component:{name:"el-input"}},{prop:"label",label:"标识",span:12,required:!0,component:{name:"el-input"}},{prop:"remark",label:"备注",span:24,component:{name:"el-input",props:{type:"textarea",rows:4}}},{label:"功能权限",prop:"menuIdList",value:[],component:{name:"cl-menu-check"}},{label:"数据权限",prop:"relevance",flex:!1,component:{name:"slot-relevance"}},{label:"",prop:"departmentIdList",value:[],component:{name:"cl-dept-check",props:{},style:{marginTop:"-10px"}}}],plugins:[B()],onOpened(n){r(n.relevance||0)}}),i=V({columns:[{type:"selection",width:60},{prop:"name",label:"名称",minWidth:150},{prop:"label",label:"标识",minWidth:120},{prop:"remark",label:"备注",showOverflowTooltip:!0,minWidth:150},{prop:"createTime",label:"创建时间",sortable:"custom",minWidth:160},{prop:"updateTime",label:"更新时间",sortable:"custom",minWidth:160},{label:"操作",type:"op",buttons:["edit","delete"]}]});function r(n){var o;(o=c.value)==null||o.setProps("departmentIdList",{checkStrictly:n==0})}return(n,o)=>{const d=t("cl-refresh-btn"),b=t("cl-add-btn"),f=t("cl-multi-delete-btn"),s=t("cl-flex1"),h=t("cl-search-key"),a=t("cl-row"),v=t("cl-table"),y=t("cl-pagination"),k=t("el-switch"),x=t("cl-upsert"),w=t("cl-crud");return L(),U(w,{ref_key:"Crud",ref:u},{default:l(()=>[e(a,null,{default:l(()=>[e(d),e(b),e(f),e(s),e(h)]),_:1}),e(a,null,{default:l(()=>[e(v,{ref_key:"Table",ref:i,"default-sort":{prop:"createTime",order:"descending"}},null,512)]),_:1}),e(a,null,{default:l(()=>[e(s),e(y)]),_:1}),e(x,{ref_key:"Upsert",ref:c},{"slot-relevance":l(({scope:p})=>[e(k,{modelValue:p.relevance,"onUpdate:modelValue":g=>p.relevance=g,"active-value":1,"inactive-value":0,onChange:r},null,8,["modelValue","onUpdate:modelValue"]),q]),_:1},512)]),_:1},512)}}});export{P as default};
