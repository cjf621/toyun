import{d as m,j as W,x as F,y as O,L as q,a as e,o as r,c as p,w as a,g as t,e as E,b as L,N as j,F as z,I as D,z as I,h as K,t as M}from"./to-889985a4.js";import{u as S}from"./to-32adc42c.js";const A=m({name:"sys-param"}),P=m({...A,setup(G){const{service:i}=S(),l=W({value:"",list:[{label:"代码编辑器",value:"cl-editor-monaco"},{label:"富文本编辑器",value:"cl-editor-wang"}]}),b=F({service:i.base.sys.param},o=>{o.refresh()}),f=O({columns:[{type:"selection",width:60},{label:"名称",prop:"name",minWidth:150},{label:"keyName",prop:"keyName",minWidth:150},{label:"数据",prop:"data",minWidth:150,showOverflowTooltip:!0},{label:"备注",prop:"remark",minWidth:200,showOverflowTooltip:!0},{label:"操作",type:"op",buttons:["edit","delete"]}]}),u=q({dialog:{width:"1000px"},items:[{prop:"name",label:"名称",span:12,required:!0,component:{name:"el-input"}},{prop:"keyName",label:"keyName",span:12,required:!0,component:{name:"el-input",props:{placeholder:"请输入Key"}}},{prop:"data",label:"数据",component:{name:"slot-content"}},{prop:"remark",label:"备注",component:{name:"el-input",props:{placeholder:"请输入备注",rows:3,type:"textarea"}}}],onOpened(o){l.value=/<*>/g.test(o.data)?l.list[1].value:l.list[0].value}});function h(o){I.confirm("切换编辑器会清空输入内容，是否继续？","提示",{type:"warning"}).then(()=>{var c;l.value=o,(c=u.value)==null||c.setForm("data","")}).catch(()=>null)}return(o,c)=>{const v=e("cl-refresh-btn"),y=e("cl-add-btn"),k=e("cl-multi-delete-btn"),_=e("cl-flex1"),g=e("cl-search-key"),s=e("cl-row"),w=e("cl-table"),x=e("cl-pagination"),C=e("el-radio"),N=e("el-radio-group"),V=e("cl-editor"),T=e("cl-upsert"),B=e("cl-crud");return r(),p(B,{ref_key:"Crud",ref:b},{default:a(()=>[t(s,null,{default:a(()=>[t(v),t(y),t(k),t(_),t(g)]),_:1}),t(s,null,{default:a(()=>[t(w,{ref_key:"Table",ref:f},null,512)]),_:1}),t(s,null,{default:a(()=>[t(_),t(x)]),_:1}),t(T,{ref_key:"Upsert",ref:u},{"slot-content":a(({scope:d})=>[E("div",null,[t(N,{"model-value":l.value,onChange:h},{default:a(()=>[(r(!0),L(z,null,j(l.list,(n,U)=>(r(),p(C,{key:U,label:n.value},{default:a(()=>[K(M(n.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["model-value"]),l.value?(r(),p(V,{key:0,name:l.value,modelValue:d.data,"onUpdate:modelValue":n=>d.data=n},null,8,["name","modelValue","onUpdate:modelValue"])):D("",!0)])]),_:1},512)]),_:1},512)}}});export{P as default};
