import{d as m,x as r,r as f,n as V,g,a as h,at as v,E as c}from"./to-0ff82d88.js";import{i as p}from"./to-bf2c5eaa.js";const N=m({name:"cl-switch",props:{scope:null,column:null,modelValue:[Number,String,Boolean],api:Function,activeValue:{type:[Number,String,Boolean],default:1},inactiveValue:{type:[Number,String,Boolean],default:0}},emits:["update:modelValue","change"],setup(a,{emit:n}){const i=r(),u=f();V(()=>a.modelValue,e=>{p(a.activeValue)?u.value=Boolean(e):u.value=e},{immediate:!0});function s(e){var t;if(a.column&&a.scope){if(e!==void 0){const l={...a.scope,[a.column.property]:e},o=v(a.api)?a.api(l):(t=i.value)==null?void 0:t.service.update(l);o&&o.then(()=>{c.success("更新成功"),n("update:modelValue",e),n("change",e)}).catch(d=>{c.error(d.message)})}}else n("update:modelValue",e),n("change",e)}return()=>g(h("el-switch"),{modelValue:u.value,"onUpdate:modelValue":e=>u.value=e,"active-value":a.activeValue,"inactive-value":a.inactiveValue,onChange:s},null)}});export{N as default};
