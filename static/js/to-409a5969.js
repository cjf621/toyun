import{d as v,a5 as k,r as f,a as r,o as w,b as S,g as n,w as s,h as m,ac as E,f as N,au as O,aX as h,X as j,E as B}from"./to-dbebbab1.js";import{u as T}from"./to-4abe4e3d.js";const U=v({name:"cl-editor-preview"}),J=v({...U,props:{title:{type:String,default:"文本预览"},name:{type:String,required:!0},props:Object},setup(i,{expose:_}){const c=i,{refs:g,setRefs:C}=T(),{copy:b}=k(),l=f(!1),t=f("");async function y(o){var e,a;O(o)&&(t.value=o),h(o)&&(t.value=JSON.stringify(o,null,4)),l.value=!0,await j(),c.name=="monaco"&&((a=(e=g.editor)==null?void 0:e.formatCode)==null||a.call(e))}function d(){l.value=!1}function V(){b(t.value),B.success("复制成功")}return _({open:y,close:d}),(o,e)=>{const a=r("cl-editor"),p=r("el-button"),x=r("cl-dialog");return w(),S("div",null,[n(x,{width:"1000px",title:i.title,"append-to-body":"",modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=u=>l.value=u)},{footer:s(()=>[n(p,{onClick:d},{default:s(()=>[m("关闭")]),_:1}),n(p,{type:"success",onClick:V},{default:s(()=>[m("复制")]),_:1})]),default:s(()=>[n(a,E({name:`cl-editor-${i.name}`,ref:N(C)("editor"),height:600},c.props,{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=u=>t.value=u)}),null,16,["name","modelValue"])]),_:1},8,["title","modelValue"])])}}});export{J as default};
