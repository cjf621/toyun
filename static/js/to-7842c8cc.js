import{d as b,u as C,B as A,a as v,o as i,b as g,f as n,t as I,c as x,w as y,aR as G,F,N as R,h as H,r as U,n as D,g as e,I as P,e as _,T as V,z as Y,p as W,m as L,K as J,aS as Q,aK as j,k as X,S as Z,a1 as ee,aT as te,aU as ne,V as K,ab as oe,Y as se,aV as ae,a6 as le,aW as ce}from"./to-f1ccf9a4.js";import{u as S}from"./to-e32cf6d6.js";import{l as O}from"./to-862de5a8.js";import{_ as M}from"./to-c27b6911.js";const _e={class:"route-nav"},re={key:0,class:"title"},ie=b({name:"route-nav"}),ue=b({...ie,setup(u){const{route:p,browser:h}=S(),{menu:s}=C(),r=A(()=>{function d(t){if(p.path==="/")return!1;if(t.path==p.path)return t;if(t.children){const a=t.children.map(d).find(Boolean);return a?[t,a]:!1}else return!1}return G(s.group.map(d).filter(Boolean))}),m=A(()=>{var d;return(d=O(r.value))==null?void 0:d.name});return(d,t)=>{const a=v("el-breadcrumb-item"),f=v("el-breadcrumb");return i(),g("div",_e,[n(h).isMini?(i(),g("p",re,I(n(m)),1)):(i(),x(f,{key:1},{default:y(()=>[(i(!0),g(F,null,R(n(r),(l,k)=>(i(),x(a,{key:k},{default:y(()=>{var c;return[H(I(((c=l.meta)==null?void 0:c.label)||l.name),1)]}),_:2},1024))),128))]),_:1}))])}}});const pe=M(ue,[["__scopeId","data-v-0b3d14ae"]]),de={class:"a-menu"},fe={class:"a-menu__name"},me=b({name:"a-menu"}),he=b({...me,setup(u){const{router:p,route:h}=S(),{menu:s}=C(),r=U("");function m(t){s.setMenu(t);const a=s.getPath(s.group[t]);p.push(a)}function d(){function t(a,f){switch(a.type){case 0:(a.children||[]).forEach(l=>{t(l,f)});break;case 1:h.path.includes(a.path)&&(r.value=String(f),s.setMenu(f));break}}s.group.forEach(t)}return D(()=>s.group.length,()=>{d()},{immediate:!0}),D(()=>h.path,()=>{d()}),(t,a)=>{const f=v("cl-svg"),l=v("el-menu-item"),k=v("el-menu");return i(),g("div",de,[e(k,{"default-active":r.value,mode:"horizontal","background-color":"transparent",onSelect:m},{default:y(()=>[(i(!0),g(F,null,R(n(s).group,(c,o)=>(i(),x(l,{key:o,index:`${o}`},{default:y(()=>[c.icon?(i(),x(f,{key:0,name:c.icon,size:18},null,8,["name"])):P("",!0),_("span",fe,I(c.name),1)]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"])])}}});const ve=M(he,[["__scopeId","data-v-4b807e8a"]]),be={key:0},ye=b({name:"auto-menu"}),ge=b({...ye,setup(u){const{router:p,browser:h}=S();return(s,r)=>n(h).isMini?P("",!0):(i(),g("li",be))}});const ke=M(ge,[["__scopeId","data-v-ed80d5dc"]]),B=u=>(W("data-v-62e79c84"),u=u(),L(),u),we={class:"app-topbar"},$e=B(()=>_("i",{class:"cl-iconfont cl-icon-fold"},null,-1)),xe=[$e],Ce=B(()=>_("div",{class:"flex1"},null,-1)),Se={class:"app-topbar__tools"},Me={key:0,class:"app-topbar__user"},Ie={class:"el-dropdown-link"},Be={class:"name"},Te=B(()=>_("i",{class:"cl-iconfont cl-icon-user"},null,-1)),Ne=B(()=>_("span",null,"个人中心",-1)),Pe=B(()=>_("i",{class:"cl-iconfont cl-icon-exit"},null,-1)),Ve=B(()=>_("span",null,"退出",-1)),Fe=b({name:"app-topbar"}),ze=b({...Fe,setup(u){const{router:p,service:h}=S(),{user:s,app:r}=C();async function m(d){switch(d){case"my":p.push("/my/info");break;case"exit":await Y.confirm("确认退出？","提示",{type:"warning",confirmButtonText:"是",cancelButtonText:"否",distinguishCancelAndClose:!0}).then(()=>{s.logout()}).catch(t=>{}).finally(()=>{});break}}return(d,t)=>{const a=v("cl-chat"),f=v("cl-theme"),l=v("cl-avatar"),k=v("el-dropdown-item"),c=v("el-dropdown-menu"),o=v("el-dropdown");return i(),g(F,null,[n(r).info.menu.isGroup?(i(),x(ve,{key:0})):P("",!0),_("div",we,[_("div",{class:V(["app-topbar__collapse",{unfold:!n(r).isFold}]),onClick:t[0]||(t[0]=w=>n(r).fold())},xe,2),e(pe),Ce,_("ul",Se,[e(ke),_("li",null,[e(a)]),_("li",null,[e(f)])]),n(s).info?(i(),g("div",Me,[e(o,{trigger:"click","hide-on-click":"",onCommand:m},{dropdown:y(()=>[e(c,null,{default:y(()=>[e(k,{command:"my"},{default:y(()=>[Te,Ne]),_:1}),e(k,{command:"exit"},{default:y(()=>[Pe,Ve]),_:1})]),_:1})]),default:y(()=>[_("span",Ie,[_("span",Be,I(n(s).info.nickName),1),e(l,{size:32,src:n(s).info.headImg},null,8,["src"])])]),_:1})])):P("",!0)])],64)}}});const Ae=M(ze,[["__scopeId","data-v-62e79c84"]]);function De(u){return typeof u=="function"||Object.prototype.toString.call(u)==="[object Object]"&&!Q(u)}const Re=b({name:"b-menu",setup(){const{router:u,route:p,browser:h}=S(),{menu:s,app:r}=J();function m(t){t!=p.path&&u.push(t),h.isMini&&r.fold(!0)}function d(){function t(a,f){return a.filter(l=>l.isShow).map(l=>{let k=null;const c=o=>e("div",{class:"wrap"},[e(v("cl-svg"),{name:o.icon},null),X(e("span",null,[o.name]),[[Z,!r.isFold||f!=1]])]);return l.type==0?k=j(e(v("el-sub-menu"),null,null),{index:String(l.id),key:l.id,popperClass:"app-slider__menu"},{title(){return c(l)},default(){return t(l.children||[],f+1)}}):k=j(e(v("el-menu-item"),null,null),{index:l.path,key:l.id},{default(){return c(l)}}),k})}return t(s.list,1)}return()=>{let t;return e("div",{class:"app-slider__menu"},[e(v("el-menu"),{"default-active":p.path,"background-color":"transparent","collapse-transition":!0,collapse:h.isMini?!1:r.isFold,onSelect:m},De(t=d())?t:{default:()=>[t]})])}}}),Ee={class:"app-slider"},je=_("img",{src:"https://store.heytapimage.com/cdo-portal/feedback/202305/30/70db37fcfb930c67655ce8efb3625ee0.png"},null,-1),Ke={key:0},We={class:"app-slider__container"},Le=b({name:"app-slider"}),Oe=b({...Le,setup(u){const{browser:p}=ee(),{app:h}=C();function s(){location.href="http://yun.72wo.cn"}return(r,m)=>(i(),g("div",Ee,[_("div",{class:"app-slider__logo",onClick:s},[je,!n(h).isFold||n(p).isMini?(i(),g("span",Ke,I(n(h).info.name),1)):P("",!0)]),_("div",We,[e(n(Re))])]))}});const q=u=>(W("data-v-0a80159a"),u=u(),L(),u),qe={class:"app-process"},Ge=q(()=>_("span",null,"后退",-1)),He=q(()=>_("span",null,"首页",-1)),Ue=["data-index","onClick","onContextmenu"],Ye=b({name:"app-process"}),Je=b({...Ye,setup(u){const{refs:p,setRefs:h,route:s,router:r}=S(),{process:m}=C();function d(){if(!m.list.find(o=>o.active)){const o=O(m.list);r.push(o?o.fullPath:"/")}}function t(c){p.scroller.scrollTo({left:c,behavior:"smooth"})}function a(c){const o=p[`item-${c}`];o&&t(o.offsetLeft+o.clientWidth-p.scroller.clientWidth)}function f(c,o){a(o),r.push(c.fullPath)}function l(c){m.remove(c),d()}function k(c,o){se.open(c,{hover:{target:"app-process__item"},list:[{label:"关闭当前",hidden:o.fullPath!==s.path,callback(w){l(m.list.findIndex(T=>T.fullPath==o.fullPath)),w(),d()}},{label:"关闭其他",callback(w){m.set(m.list.filter(T=>T.fullPath==o.fullPath)),w(),d()}},{label:"关闭所有",callback(w){m.clear(),w(),d()}}]})}return D(()=>s.path,function(c){a(m.list.findIndex(o=>o.fullPath===c)||0)}),(c,o)=>{const w=v("el-icon"),T=v("el-scrollbar");return i(),g("div",qe,[_("div",{class:"app-process__icon",onClick:o[0]||(o[0]=(...$)=>n(r).back&&n(r).back(...$))},[e(w,null,{default:y(()=>[e(n(te))]),_:1}),Ge]),_("div",{class:V(["app-process__icon",{active:n(s).path=="/"}]),onClick:o[1]||(o[1]=$=>n(r).push("/"))},[e(w,null,{default:y(()=>[e(n(ne))]),_:1}),He],2),e(T,{ref:n(h)("scroller"),class:"app-process__scroller"},{default:y(()=>[(i(!0),g(F,null,R(n(m).list,($,N)=>{var E;return i(),g("div",{key:N,ref_for:!0,ref:n(h)(`item-${N}`),class:V(["app-process__item",{active:$.active}]),"data-index":N,onClick:z=>f($,Number(N)),onContextmenu:K(z=>k(z,$),["stop","prevent"])},[_("span",null,I(((E=$.meta)==null?void 0:E.label)||$.name||$.path),1),e(w,{onMousedown:K(z=>l(Number(N)),["stop"])},{default:y(()=>[e(n(oe))]),_:2},1032,["onMousedown"])],42,Ue)}),128))]),_:1},512)])}}});const Qe=M(Je,[["__scopeId","data-v-0a80159a"]]),Xe={class:"app-views"},Ze=b({name:"app-views"}),et=b({...Ze,setup(u){const{refs:p,setRefs:h,mitt:s}=S(),{process:r,app:m}=C(),d=A(()=>r.list.filter(a=>{var f;return(f=a.meta)==null?void 0:f.keepAlive}).map(a=>a.path.substring(1,a.path.length).replace(/\//g,"-")));function t({el:a,top:f}){const l=p.scrollbar.wrapRef;a&&(f=l.querySelector(a).offsetTop),l.scrollTo({top:f,behavior:"smooth"})}return s.on("view.scrollTo",t),(a,f)=>{const l=v("el-scrollbar"),k=v("router-view");return i(),g("div",Xe,[e(k,null,{default:y(({Component:c})=>[e(l,{ref:n(h)("scrollbar")},{default:y(()=>[e(ae,{name:n(m).info.router.transition},{default:y(()=>[(i(),x(ce,{include:n(d)},[(i(),x(le(c)))],1032,["include"]))]),_:2},1032,["name"])]),_:2},1536)]),_:1})])}}});const tt=M(et,[["__scopeId","data-v-ac8aa32c"]]),nt={class:"app-layout__left"},ot={class:"app-layout__right"},st=b({name:"app-layout"}),at=b({...st,setup(u){const{app:p}=C();return(h,s)=>(i(),g("div",{class:V(["app-layout",{collapse:n(p).isFold}])},[_("div",{class:"app-layout__mask",onClick:s[0]||(s[0]=r=>n(p).fold(!0))}),_("div",nt,[e(Oe)]),_("div",ot,[e(Ae),e(Qe),e(tt)])],2))}});const it=M(at,[["__scopeId","data-v-f1087b9e"]]);export{it as default};
