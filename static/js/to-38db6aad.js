import{d as y,r as v,B as V,a as b,o as k,b as S,bR as N,g as n,w as o,h as u,f as d,t as p,ac as $,X as R,c as T,I as j}from"./to-6daecd4d.js";import{u as D}from"./to-e317cdfd.js";import{_ as E}from"./to-bdc58e81.js";import"./to-0a44f508.js";import"./to-d2f83d2f.js";import"./to-862de5a8.js";import"./to-c27b6911.js";const I={class:"cl-upload-space__wrap"},O=y({name:"cl-upload-space"}),G=y({...O,props:{title:{type:String,default:"文件空间"},text:{type:String,default:"点击上传"},limit:{type:Number,default:9},accept:String,showBtn:{type:Boolean,default:!0}},emits:["confirm"],setup(l,{expose:x,emit:C}){const h=l,{refs:f,setRefs:B}=D(),a=v(!1),s=v({title:""}),i=V(()=>{var e;return((e=f.inner)==null?void 0:e.selection)||[]});function m(e){a.value=!0,s.value=Object.assign({...h},e),R(()=>{var t;(t=f.inner)==null||t.clear()})}function c(){a.value=!1}function _(e){C("confirm",e||i.value),c()}return x({open:m,close:c}),(e,t)=>{const r=b("el-button"),w=b("cl-dialog");return k(),S("div",I,[N(e.$slots,"default",{},()=>[l.showBtn?(k(),T(r,{key:0,onClick:m},{default:o(()=>[u(p(l.text),1)]),_:1})):j("",!0)]),n(w,{modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=g=>a.value=g),title:s.value.title,height:"650px",width:"1070px","keep-alive":"","custom-class":"cl-upload-space__dialog","close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":""},{footer:o(()=>[n(r,{onClick:c},{default:o(()=>[u("取消")]),_:1}),n(r,{disabled:d(i).length==0,type:"success",onClick:t[0]||(t[0]=g=>_())},{default:o(()=>[u(" 选择 "+p(d(i).length)+"/"+p(l.limit),1)]),_:1},8,["disabled"])]),default:o(()=>[n(E,$({ref:d(B)("inner")},s.value,{onConfirm:_}),null,16)]),_:1},8,["modelValue","title"])])}}});export{G as default};
