import{d as c,A as b,r,B as v,M as h,s as y,n as V,i as g,a as x,o as z,b as C,g as N,f as k}from"./to-bc85d7a1.js";import{u as B}from"./to-be912673.js";import{_ as S}from"./to-c27b6911.js";const F={class:"cl-menu-select"},M=c({name:"cl-menu-select"}),w=c({...M,props:{modelValue:[Number,String],type:{type:Number,default:1},placeholder:String,size:String},emits:["update:modelValue"],setup(a,{emit:d}){const s=a,{service:u}=B(),i=b(),o=r(),n=r([]),m=v(()=>h(y(n.value).filter(e=>s.type===0?e.type==0:s.type>e.type)));function p(){u.base.sys.menu.list().then(e=>{n.value=e.filter(t=>{var l;return t.id!=((l=i.value)==null?void 0:l.form.id)})})}function f(e){d("update:modelValue",e)}return V(()=>s.modelValue,e=>{o.value=e&&Number(e)},{immediate:!0}),g(function(){p()}),(e,t)=>{const l=x("el-tree-select");return z(),C("div",F,[N(l,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=_=>o.value=_),data:k(m),props:{label:"name",value:"id",disabled:"disabled",children:"children"},clearable:"","default-expand-all":"","check-strictly":"",filterable:"",size:a.size,placeholder:a.placeholder,onChange:f},null,8,["modelValue","data","size","placeholder"])])}}});const I=S(w,[["__scopeId","data-v-1353dbf0"]]);export{I as default};
