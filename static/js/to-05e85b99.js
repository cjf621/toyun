import{d as r,x as m,r as g,n as f,g as V,a as h,at as v,E as i}from"./to-6daecd4d.js";import{i as p}from"./to-f8e5709f.js";const N=r({name:"cl-switch",props:{scope:null,column:null,modelValue:[Number,String,Boolean],api:Function,activeValue:{type:[Number,String,Boolean],default:1},inactiveValue:{type:[Number,String,Boolean],default:0}},emits:["update:modelValue","change"],setup(a,{emit:n}){const c=m(),u=g();f(()=>a.modelValue,e=>{p(a.activeValue)?u.value=Boolean(e):u.value=e},{immediate:!0});function s(e){var t;if(a.column&&a.scope){if(e!==void 0){const l={...a.scope,[a.column.property]:e},o=v(a.api)?a.api(l):(t=c.value)==null?void 0:t.service.update(l);o&&o.then(()=>{i.success({grouping:!0,message:"更新成功"}),n("update:modelValue",e),n("change",e)}).catch(d=>{i.error(d.message)})}}else n("update:modelValue",e),n("change",e)}return()=>V(h("el-switch"),{modelValue:u.value,"onUpdate:modelValue":e=>u.value=e,"active-value":a.activeValue,"inactive-value":a.inactiveValue,onChange:s},null)}});export{N as default};
