import{d as g,a3 as I,j,x as q,L,E as u,z as O,y as P,a4 as $,a as t,o as G,c as H,w as n,g as e,f as y,e as J,h as s,t as r}from"./to-0ff82d88.js";import{s as K}from"./to-c68c826c.js";import{_ as Q}from"./to-212e9aa6.js";import"./to-1c1a365c.js";const R={style:{padding:"0 10px"}},W=g({name:"demo-crud"}),oe=g({...W,setup(X){const{dict:v}=I(),d=j({status:[{label:"启用",value:1},{label:"禁用",type:"danger",value:0}]}),w=q({service:"test"},o=>{o.refresh()}),_=L({items:[{type:"tabs",props:{type:"card",labels:[{label:"基础",value:"base"},{label:"其他",value:"other"}]}},{label:"头像",prop:"avatar",group:"base",component:{name:"cl-upload"}},()=>({label:"姓名",prop:"name",required:!0,group:"base",component:{name:"el-input"}}),{label:"年龄",group:"base",prop:"age",component:{name:"el-input-number"}},{label:"职业",prop:"occupation",group:"other",component:{name:"el-tree-select",props:{data:v.get("occupation"),checkStrictly:!0}}},{label:"身份证照片",prop:"idCardPic",group:"other",component:{name:"cl-upload",props:{isSpace:!0,size:[200,300]}}}],plugins:[K("name")],onInfo(o,{next:l,done:c}){c(o)},onSubmit(o,{next:l,close:c,done:b}){l(o)},onOpened(o){var l;((l=_.value)==null?void 0:l.mode)!="info"&&u.success("编辑中")},onClose(o,l){var c;if(((c=_.value)==null?void 0:c.mode)=="update"&&o=="close")return O.confirm("还没填完，确定关闭不？","提示",{type:"warning"}).then(()=>{l(),u.info("好吧")}).catch(()=>{u.success("请继续编辑")});l()}}),m=P({columns:[{type:"selection",width:60},()=>({label:"#",type:"expand",prop:"detail"}),{label:"姓名",prop:"name"},{label:"存款(元)",prop:"price",sortable:!0},{label:"状态",orderNum:2,prop:"status",dict:d.status},{label:"创建时间",orderNum:1,prop:"createTime",sortable:"desc"},{type:"op",width:350,buttons:["info","edit","delete",{label:"自定义按钮",onClick({scope:o}){u.success(o.row.name+"正常")}}]}]});function x({data:o}){return["合计","","",o.reduce((l,c)=>parseFloat(l+Number(c.price)),0).toFixed(2)]}const k=$({items:[{label:"昵称",prop:"name",component:{name:"el-input"}}]});return(o,l)=>{const c=t("cl-refresh-btn"),b=t("cl-add-btn"),C=t("cl-multi-delete-btn"),S=t("cl-select"),N=t("cl-filter"),f=t("cl-flex1"),T=t("cl-export-btn"),B=t("cl-column-custom"),A=t("cl-search-key"),D=t("cl-adv-btn"),i=t("cl-row"),p=t("el-descriptions-item"),E=t("el-descriptions"),F=t("cl-table"),M=t("cl-pagination"),U=t("cl-upsert"),V=t("cl-adv-search"),z=t("cl-crud");return G(),H(z,{ref_key:"Crud",ref:w},{default:n(()=>[e(i,null,{default:n(()=>{var a,h;return[e(c),e(b),e(C),e(Q),e(N,{label:"状态筛选"},{default:n(()=>[e(S,{options:d.status,prop:"status"},null,8,["options"])]),_:1}),e(f),e(T,{columns:(a=y(m))==null?void 0:a.columns},null,8,["columns"]),e(B,{columns:(h=y(m))==null?void 0:h.columns},null,8,["columns"]),e(A),e(D)]}),_:1}),e(i,null,{default:n(()=>[e(F,{ref_key:"Table",ref:m,"show-summary":"","summary-method":x},{"column-detail":n(({scope:a})=>[J("div",R,[e(E,{border:"",column:3},{default:n(()=>[e(p,{label:"ID"},{default:n(()=>[s(r(a.row.id),1)]),_:2},1024),e(p,{label:"姓名"},{default:n(()=>[s(r(a.row.name),1)]),_:2},1024),e(p,{label:"存款"},{default:n(()=>[s(r(a.row.price),1)]),_:2},1024),e(p,{label:"创建时间"},{default:n(()=>[s(r(a.row.createTime),1)]),_:2},1024)]),_:2},1024)])]),"column-price":n(({scope:a})=>[s(" ￥"+r(a.row.price),1)]),_:1},512)]),_:1}),e(i,null,{default:n(()=>[e(f),e(M)]),_:1}),e(U,{ref_key:"Upsert",ref:_},null,512),e(V,{ref_key:"AdvSearch",ref:k},null,512)]),_:1},512)}}});export{oe as default};
