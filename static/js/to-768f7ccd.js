import{d as _,r as s,n as V,L as x,a as l,o as C,b as w,e as d,g as a,w as g,M as B}from"./to-f1ccf9a4.js";import{u as N}from"./to-e32cf6d6.js";import{_ as T}from"./to-c27b6911.js";const S={class:"cl-dept-check"},U={class:"cl-dept-check__search"},A={class:"cl-dept-check__tree"},E=_({name:"cl-dept-check"}),I=_({...E,props:{modelValue:{type:Array,default:()=>[]},checkStrictly:Boolean},emits:["update:modelValue"],setup(n,{emit:u}){const i=n,{service:p}=N(),c=s(),r=s(),o=s("");async function h(){return p.base.sys.department.list().then(e=>{r.value=B(e)})}function m(e,t){return e?t.name.includes(e):!0}function f(e,{checkedKeys:t}){u("update:modelValue",t)}return V(o,e=>{c.value.filter(e)}),x({async onOpened(){await h(),c.value.setCheckedKeys(i.modelValue||[])}}),(e,t)=>{const k=l("el-input"),y=l("el-tree"),v=l("el-scrollbar");return C(),w("div",S,[d("div",U,[a(k,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=b=>o.value=b),placeholder:"输入关键字进行过滤"},null,8,["modelValue"])]),d("div",A,[a(v,{"max-height":"200px"},{default:g(()=>[a(y,{ref_key:"Tree",ref:c,"node-key":"id","show-checkbox":"",data:r.value,props:{label:"name",children:"children"},"filter-node-method":m,"check-strictly":n.checkStrictly,onCheck:f},null,8,["data","check-strictly"])]),_:1})])])}}});const O=T(I,[["__scopeId","data-v-bcbf58d6"]]);export{O as default};
